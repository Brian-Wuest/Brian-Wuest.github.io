"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[390],{4390:(J,f,l)=>{l.r(f),l.d(f,{DndPointBuyModule:()=>H});var h=l(4755),d=l(5030),D=l(3396),v=l(9757),T=l(266),w=l(715),b=l(8850),C=l(9744),S=l(3324),A=l(1031),x=l(7150),i=l(50),r=l(5868);class m{name;raceModifier;points;constructor(u,e,o){this.name=u,this.raceModifier=e,this.points=o,o||(o=0)}}var t=l(3020),P=l(6550),Z=l(387);const _=["selectableAttribute1"],N=["selectableAttribute2"];function y(s,u){1&s&&(t.TgZ(0,"label",21),t._uU(1,"Attribute 1 "),t.qZA())}function M(s,u){1&s&&(t.TgZ(0,"label",21),t._uU(1,"Attribute 2 "),t.qZA())}function R(s,u){if(1&s){const e=t.EpF();t.TgZ(0,"div",11)(1,"p-dropdown",22,23),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectableAttributeOne=n)})("onChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateAvailableSpecialAttributes(1,n))}),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("options",e.characterAttributes1)("ngModel",e.selectableAttributeOne)("autoDisplayFirst",!1)}}function O(s,u){if(1&s){const e=t.EpF();t.TgZ(0,"div",11)(1,"p-dropdown",24,25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectableAttributeTwo=n)})("onChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateAvailableSpecialAttributes(2,n))}),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("options",e.characterAttributes2)("ngModel",e.selectableAttributeTwo)("autoDisplayFirst",!1)}}function B(s,u){if(1&s){const e=t.EpF();t.TgZ(0,"tr",26)(1,"td",11),t._UZ(2,"input",13),t.qZA(),t.TgZ(3,"td",11)(4,"p-inputNumber",27),t.NdJ("onInput",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateStats("statsForm",n))})("onBlur",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateStats("statsForm",n))})("ngModelChange",function(n){const c=t.CHM(e).$implicit;return t.KtG(c.points=n)}),t.qZA()(),t.TgZ(5,"td",11),t._UZ(6,"input",13),t.qZA(),t.TgZ(7,"td",11),t._UZ(8,"input",13),t.qZA()()}if(2&s){const e=u.$implicit,o=t.oxw();t.xp6(2),t.Q6J("value",e.name),t.xp6(2),t.Q6J("name",e.name)("min",0)("max",o.getMaximumPoints(e))("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("ngModel",e.points),t.xp6(2),t.Q6J("value",o.getRacialStat(e)),t.xp6(2),t.Q6J("value",o.getComputedStat(e))}}const I=[{path:"",component:(()=>{class s{titleService;races;currentRace;availablePoints;maximumAvailablePoints;characterAttributes;characterAttributes2;characterAttributes1;selectableAttributeOne;selectableAttributeTwo;dropdownAttribute1;dropdownAttribute2;STR="STR";DEX="DEX";CON="CON";INT="INT";WIS="WIS";CHR="CHR";constructor(e){this.titleService=e,this.availablePoints=27,this.maximumAvailablePoints=27,this.titleService.setTitle("D&D 5th Edition Stat Point Buy"),this.createRaceInfo(),this.createCharacterAttributes()}ngOnInit(){}updateStats(e,o){if((0,x.G$)(e)){let n=this.maximumAvailablePoints;for(const a of this.characterAttributes){let c=a.points;isNaN(c)?a.points=0:(c=+c,n-=c>this.maximumAvailablePoints||c<0?0:c)}this.availablePoints=n}}updateAvailableSpecialAttributes(e,o){let n=null,a=null,c=null,g=null;1===e?(n=this.dropdownAttribute1,a=this.dropdownAttribute2):(n=this.dropdownAttribute2,a=this.dropdownAttribute1),c=n.selectedOption,g=a.selectedOption;const E=n.options,F=a.options;if(g)for(const p of E)p.disabled=p.value.name===g.value.name;if(c)for(const p of F)p.disabled=p.value.name===c.value.name}createRaceInfo(){this.races=[new r.m("Human",[new i.v(this.STR,1),new i.v(this.DEX,1),new i.v(this.CON,1),new i.v(this.INT,1),new i.v(this.WIS,1),new i.v(this.CHR,1)]),new r.m("Human (Variant)",[]),new r.m("Half-Elf",[new i.v(this.CHR,2)]),new r.m("Dragonborn",[new i.v(this.CHR,1),new i.v(this.STR,2)]),new r.m("Dwarf (Hill)",[new i.v(this.WIS,1),new i.v(this.CON,2)]),new r.m("Dwarf (Mountain)",[new i.v(this.STR,2),new i.v(this.CON,2)]),new r.m("Dwarf (Deurgar)",[new i.v(this.STR,1),new i.v(this.CON,2)]),new r.m("Elf (High)",[new i.v(this.INT,1),new i.v(this.DEX,2)]),new r.m("Elf (Wood)",[new i.v(this.WIS,1),new i.v(this.DEX,2)]),new r.m("Elf (Drow)",[new i.v(this.CHR,1),new i.v(this.DEX,2)]),new r.m("Elf (Eladrin)",[new i.v(this.INT,1),new i.v(this.DEX,2)]),new r.m("Elf (Sea)",[new i.v(this.CON,1),new i.v(this.DEX,2)]),new r.m("Gnome (Forest)",[new i.v(this.DEX,1),new i.v(this.INT,2)]),new r.m("Gnome (Rock)",[new i.v(this.CON,1),new i.v(this.INT,2)]),new r.m("Gnome (Deep)",[new i.v(this.DEX,1),new i.v(this.INT,2)]),new r.m("Half-Orc",[new i.v(this.CON,1),new i.v(this.STR,2)]),new r.m("Halfling (Deurgar)",[new i.v(this.CHR,1),new i.v(this.DEX,2)]),new r.m("Halfling (Stout)",[new i.v(this.CON,1),new i.v(this.DEX,2)]),new r.m("Halfling (Ghostwise)",[new i.v(this.WIS,1),new i.v(this.DEX,2)]),new r.m("Tiefling",[new i.v(this.INT,1),new i.v(this.CHR,2)])]}createCharacterAttributes(){this.characterAttributes=[new m(this.STR,0,0),new m(this.DEX,0,0),new m(this.CON,0,0),new m(this.INT,0,0),new m(this.WIS,0,0),new m(this.CHR,0,0)],this.characterAttributes1=JSON.parse(JSON.stringify(this.characterAttributes)),this.characterAttributes2=JSON.parse(JSON.stringify(this.characterAttributes))}showSelectableStatDropdowns(){return this.currentRace&&("Human (Variant)"===this.currentRace.name||"Half-Elf"===this.currentRace.name)}getComputedStat(e){return 8+this.getStatModifierBasedOnPoints(e.points)+this.getRacialStat(e)}getMaximumPoints(e){let o=9;const n=o-e.points;return 0===this.availablePoints?o=e.points:n>this.availablePoints||0===n?n+this.availablePoints<o&&(o=n+this.availablePoints,n>this.availablePoints?o=e.points+this.availablePoints:o<e.points&&(o=e.points)):n<0?e.points=0:o=this.availablePoints+e.points,o}getStatModifierBasedOnPoints(e){if(!isNaN(e)){if((e=+e)<=5)return e;switch(e){case 6:return 5;case 7:case 8:return 6;case 9:return 7}}return 0}getRacialStat(e){if(this.currentRace){if(this.showSelectableStatDropdowns()&&(this.selectableAttributeOne&&this.selectableAttributeOne.name===e.name||this.selectableAttributeTwo&&this.selectableAttributeTwo.name===e.name))return 1;if(this.currentRace.modifiers)for(const o of this.currentRace.modifiers)if(o.attributeName===e.name)return o.value}return 0}resetPoints(){for(const e of this.characterAttributes)e.points=0;this.availablePoints=this.maximumAvailablePoints}static \u0275fac=function(o){return new(o||s)(t.Y36(P.Dx))};static \u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(o,n){if(1&o&&(t.Gf(_,7),t.Gf(N,7)),2&o){let a;t.iGM(a=t.CRH())&&(n.dropdownAttribute1=a.first),t.iGM(a=t.CRH())&&(n.dropdownAttribute2=a.first)}},decls:47,vars:9,consts:[[1,"grid"],[1,"col-12","align-text-center"],[1,"col-12"],[1,"sm:col-12","xl:col-8","xl:col-offset-2"],[1,"align-text-center"],[1,"ui-card-title"],["name","raceForm","id","raceForm","autocomplete","off"],[1,"grid","pad-top-5"],[1,"col-3","align-text-center"],[1,"col-3","align-text-center",2,"padding-top","0px"],["class","col-3 no-wrap align-text-center",4,"ngIf"],[1,"col-3"],["name","raceSelector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["pInputText","","readonly","",1,"col-12","align-text-center",3,"value"],["class","col-3",4,"ngIf"],[1,"col-12","py-0"],["id","statsForm","name","statsForm","autocomplete","off"],[1,"col-3","px-0"],[1,"font-weight-bold","no-wrap","align-text-center"],["pButton","","type","button","icon","pi pi-refresh","iconPos","left",1,"ui-button-rounded","ui-button-info","small-icon-button","reset-button",3,"click"],["class","pad-top-5",4,"ngFor","ngForOf"],[1,"col-3","no-wrap","align-text-center"],["name","attribute1Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute1",""],["name","attribute2Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute2",""],[1,"pad-top-5"],[1,"col-12","align-text-center",3,"name","min","max","minFractionDigits","maxFractionDigits","showButtons","ngModel","onInput","onBlur","ngModelChange"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"D&D 5th Edition Character Attribute Point Buy"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"hr"),t.qZA()(),t.TgZ(5,"div",0)(6,"div",3)(7,"p-panel",2)(8,"p-header",4)(9,"span",5),t._uU(10,"Player Stats"),t.qZA()(),t.TgZ(11,"form",6)(12,"div",7)(13,"label",8),t._uU(14,"Race "),t.qZA(),t.TgZ(15,"label",9),t._uU(16,"Available Points"),t.qZA(),t.YNc(17,y,2,0,"label",10),t.YNc(18,M,2,0,"label",10),t.qZA(),t.TgZ(19,"div",7)(20,"div",11)(21,"p-dropdown",12),t.NdJ("ngModelChange",function(c){return n.currentRace=c})("onChange",function(c){return n.updateStats("raceForm",c)}),t.qZA()(),t.TgZ(22,"div",11),t._UZ(23,"input",13),t.qZA(),t.YNc(24,R,3,3,"div",14),t.YNc(25,O,3,3,"div",14),t.qZA()(),t.TgZ(26,"div",0),t._UZ(27,"hr",15),t.qZA(),t.TgZ(28,"form",16)(29,"div",0)(30,"table",2)(31,"thead")(32,"th",17)(33,"span",18),t._uU(34,"Name"),t.qZA()(),t.TgZ(35,"th",17)(36,"span",18),t._uU(37," Points "),t.TgZ(38,"button",19),t.NdJ("click",function(){return n.resetPoints()}),t.qZA()()(),t.TgZ(39,"th",17)(40,"span",18),t._uU(41,"Race"),t.qZA()(),t.TgZ(42,"th",17)(43,"span",18),t._uU(44,"Result"),t.qZA()()(),t.TgZ(45,"tbody"),t.YNc(46,B,9,10,"tr",20),t.qZA()()()()()()()),2&o&&(t.xp6(17),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(1),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(3),t.Q6J("options",n.races)("ngModel",n.currentRace)("autoDisplayFirst",!1),t.xp6(2),t.Q6J("value",n.availablePoints),t.xp6(1),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(1),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(21),t.Q6J("ngForOf",n.characterAttributes))},dependencies:[h.sg,h.O5,d._Y,d.JJ,d.JL,d.On,d.F,Z.h4,w.Lt,C.o,v.Hq,b.Rn,A.s],styles:[".reset-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:1.8rem}"]})}return s})()}];let H=(()=>{class s{constructor(){}static \u0275fac=function(o){return new(o||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[h.ez,d.u5,T.d,w.kW,C.j,v.hJ,b.L$,S.ON,A.Q,D.Bz.forChild(I)]})}return s})()}}]);