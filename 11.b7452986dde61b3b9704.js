(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{FdJg:function(e,n,t){"use strict";t.r(n),t.d(n,"XpCalculatorModule",(function(){return R}));var r=t("ofXK"),o=t("3Pt+"),i=t("jIHw"),a=t("QIUk"),s=t("arFO"),l=t("7kUa"),c=t("ImVz");let b=(()=>{class e{constructor(e,n){this.challengeRating=e,this.experience=n}static getMonsterXpForChallengeRating(n){if(n&&""!==n.trim())for(const t of e.dnd5thMonsterExperience)if(t.challengeRating===n)return t.Clone();return e.Zero()}static Zero(){return new e("0",10)}Clone(){return new e(this.challengeRating,this.experience)}}return e.dnd5thMonsterExperience=[new e("0",10),new e("1/8",25),new e("1/4",50),new e("1/2",100),new e("1",200),new e("2",450),new e("3",700),new e("4",1100),new e("5",1800),new e("6",2300),new e("7",2900),new e("8",3900),new e("9",5e3),new e("10",5900),new e("11",7200),new e("12",8400),new e("13",1e4),new e("14",11500),new e("15",13e3),new e("16",15e3),new e("17",18e3),new e("18",2e4),new e("19",22e3),new e("20",25e3),new e("21",33e3),new e("22",41e3),new e("23",5e4),new e("24",62e3),new e("25",75e3),new e("26",9e4),new e("27",105e3),new e("28",12e4),new e("29",135e3),new e("30",155e3)],e})();var p=t("xtzn"),u=t("fXoL"),d=t("jhN1"),h=t("7zfz");function g(e,n){if(1&e){const e=u.Tb();u.Sb(0,"tr"),u.Sb(1,"td",18),u.Sb(2,"p-button",19),u.ac("onClick",(function(){u.sc(e);const t=n.$implicit;return u.cc().removeMonster(t)})),u.Rb(),u.Rb(),u.Sb(3,"td",18),u.Sb(4,"p-dropdown",20),u.ac("onChange",(function(t){u.sc(e);const r=n.$implicit;return u.cc().updatePlayersXP("monstersForm",t,r)})),u.Rb(),u.Rb(),u.Sb(5,"td",18),u.Sb(6,"p-spinner",21),u.ac("ngModelChange",(function(t){return u.sc(e),n.$implicit.MonsterCount=t}))("onChange",(function(){return u.sc(e),u.cc().updatePlayersXP("monstersForm")})),u.Rb(),u.Rb(),u.Rb()}if(2&e){const e=n.$implicit,t=u.cc();u.Bb(4),u.hc("options",t.monsterXpList)("name",e.MonsterId)("ngModel",e.XpInfo),u.Bb(2),u.hc("name",e.MonsterId+"monsterCount")("min",0)("max",100)("ngModel",e.MonsterCount)}}let m=(()=>{class e{constructor(e){this._titleService=e,this.globals=new p.a,this.templateMonster=b.dnd5thMonsterExperience[0],this.playerCount=4,this.currentMonsters=[],this.playerXp=0,this.totalXp=0,this._titleService.setTitle("Experience Calculator"),this.monsterXpList=b.dnd5thMonsterExperience}ngOnInit(){this.addMonster()}removeMonster(e){let n=-1;for(let t=0;t<this.currentMonsters.length;t++)if(this.currentMonsters[t].MonsterId===e.MonsterId){n=t;break}n>=0&&this.currentMonsters.splice(n,1),this.updatePlayersXP("monstersForm")}addMonster(){this.currentMonsters.push({MonsterId:this.globals.generateGuid(),XpInfo:this.templateMonster,MonsterCount:0})}updatePlayersXP(e,n,t){if(n&&n.value&&t&&(t.XpInfo=n.value),!e||this.globals.validateForm(e))if(this.playerCount&&0!==this.playerCount){this.totalXp=0;for(let e=0;e<this.currentMonsters.length;e++){const n=this.currentMonsters[e];this.totalXp=this.totalXp+n.MonsterCount*n.XpInfo.experience}this.playerXp=this.totalXp/this.playerCount}else this.playerXp=0}}return e.\u0275fac=function(n){return new(n||e)(u.Mb(d.b))},e.\u0275cmp=u.Gb({type:e,selectors:[["ng-component"]],decls:45,vars:12,consts:[[1,"ui-g"],[1,"ui-g-12","align-text-center"],[1,"ui-g-12"],[1,"ui-g-12","ui-lg-5","ui-lg-offset-1"],[1,"ui-card-title"],["name","monstersForm","id","monstersForm",1,"border","border-dark","rounded","bg-secondary"],[2,"width","100%"],[2,"width","25%"],[1,"align-text-center",2,"width","33%"],[4,"ngFor","ngForOf"],[1,""],["pButton","","type","button","label","Add Monster",2,"margin-top","10px",3,"onClick"],[1,"ui-g-12","ui-lg-5"],["name","playersForm","id","playersForm",1,"ui-g"],[1,"ui-g-6"],[1,"ui-g-12","no-wrap","c-label"],["name","playerCount",1,"ui-g-12",3,"min","max","ngModel","onChange","ngModelChange"],["readonly","","pInputText","",1,"ui-g-12",3,"value"],[1,"right-left-padding-10"],["label","Remove",3,"onClick"],["optionLabel","challengeRating",3,"options","name","ngModel","onChange"],[3,"name","min","max","ngModel","ngModelChange","onChange"]],template:function(e,n){1&e&&(u.Sb(0,"div",0),u.Sb(1,"h1",1),u.Ac(2,"Experience Calculator"),u.Rb(),u.Sb(3,"div",2),u.Nb(4,"hr"),u.Rb(),u.Rb(),u.Sb(5,"div",0),u.Sb(6,"div",3),u.Sb(7,"p-card"),u.Sb(8,"p-header"),u.Sb(9,"span",4),u.Ac(10,"Number of Monsters and Challenge Rating"),u.Rb(),u.Rb(),u.Sb(11,"div"),u.Sb(12,"form",5),u.Sb(13,"table",6),u.Sb(14,"thead"),u.Sb(15,"tr"),u.Nb(16,"th",7),u.Sb(17,"th",8),u.Ac(18,"Challenge Rating"),u.Rb(),u.Sb(19,"th",8),u.Ac(20,"Count"),u.Rb(),u.Rb(),u.Rb(),u.Sb(21,"tbody"),u.yc(22,g,7,7,"tr",9),u.Rb(),u.Rb(),u.Rb(),u.Sb(23,"div"),u.Sb(24,"div",10),u.Sb(25,"button",11),u.ac("onClick",(function(){return n.addMonster()})),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(26,"div",12),u.Sb(27,"p-card"),u.Sb(28,"p-header"),u.Sb(29,"span",4),u.Ac(30,"Player Count and Calculated Experience"),u.Rb(),u.Rb(),u.Sb(31,"form",13),u.Sb(32,"div",14),u.Sb(33,"label",15),u.Ac(34,"Player Count: "),u.Rb(),u.Sb(35,"label",15),u.Ac(36,"Per-Player Experience: "),u.Rb(),u.Sb(37,"label",15),u.Ac(38,"Total Experience: "),u.Rb(),u.Rb(),u.Sb(39,"div",14),u.Sb(40,"p-spinner",16),u.ac("onChange",(function(){return n.updatePlayersXP("playersForm")}))("ngModelChange",(function(e){return n.playerCount=e})),u.Rb(),u.Nb(41,"input",17),u.dc(42,"number"),u.Nb(43,"input",17),u.dc(44,"number"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(22),u.hc("ngForOf",n.currentMonsters),u.Bb(18),u.hc("min",0)("max",100)("ngModel",n.playerCount),u.Bb(1),u.hc("value",u.ec(42,6,n.playerXp,"1.0-0")),u.Bb(2),u.hc("value",u.ec(44,9,n.totalXp,"1.0-0")))},directives:[a.a,h.b,o.g,o.d,o.e,r.j,i.b,c.a,o.c,o.f,l.a,i.a,s.a],pipes:[r.d],styles:[".c-label[_ngcontent-%COMP%], [pInputText].ui-inputtext[_ngcontent-%COMP%], p-spinner[name=playerCount][_ngcontent-%COMP%]{margin-top:4px}"]}),e})();var w=t("tyNb");const M=[{path:"",component:m}];let R=(()=>{class e{constructor(){}}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(n){return new(n||e)},imports:[[r.b,o.a,a.b,i.c,s.b,l.b,c.b,w.d.forChild(M)]]}),e})()}}]);