"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[218],{6884:(T,b,r)=>{r.r(b),r.d(b,{DndPointBuyModule:()=>H});var u=r(6814),d=r(95),C=r(3654),m=r(707),_=r(4532),f=r(3968),v=r(354),p=r(3714),S=r(9540),D=r(4368),P=r(1124),i=r(9905),l=r(5091);class w{name;raceModifier;points;constructor(h,e,o){this.name=h,this.raceModifier=e,this.points=o,o||(o=0)}}var t=r(9104),x=r(6593),Z=r(5219);const M=["selectableAttribute1"],y=["selectableAttribute2"];function N(s,h){1&s&&(t.TgZ(0,"label",21),t._uU(1,"Attribute 1 "),t.qZA())}function O(s,h){1&s&&(t.TgZ(0,"label",21),t._uU(1,"Attribute 2 "),t.qZA())}function R(s,h){if(1&s){const e=t.EpF();t.TgZ(0,"div",11)(1,"p-dropdown",22,23),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectableAttributeOne=n)})("onChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateAvailableSpecialAttributes(1,n))}),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(),t.Q6J("options",e.characterAttributes1)("ngModel",e.selectableAttributeOne)("autoDisplayFirst",!1)}}function I(s,h){if(1&s){const e=t.EpF();t.TgZ(0,"div",11)(1,"p-dropdown",24,25),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.selectableAttributeTwo=n)})("onChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateAvailableSpecialAttributes(2,n))}),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(),t.Q6J("options",e.characterAttributes2)("ngModel",e.selectableAttributeTwo)("autoDisplayFirst",!1)}}function B(s,h){if(1&s){const e=t.EpF();t.TgZ(0,"tr",26)(1,"td",11),t._UZ(2,"input",13),t.qZA(),t.TgZ(3,"td",11)(4,"p-inputNumber",27),t.NdJ("onInput",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateStats("statsForm",n))})("onBlur",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.updateStats("statsForm",n))})("ngModelChange",function(n){const c=t.CHM(e).$implicit;return t.KtG(c.points=n)}),t.qZA()(),t.TgZ(5,"td",11),t._UZ(6,"input",13),t.qZA(),t.TgZ(7,"td",11),t._UZ(8,"input",13),t.qZA()()}if(2&s){const e=h.$implicit,o=t.oxw();t.xp6(2),t.Q6J("value",e.name),t.xp6(2),t.Q6J("name",e.name)("min",0)("max",o.getMaximumPoints(e))("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("ngModel",e.points),t.xp6(2),t.Q6J("value",o.getRacialStat(e)),t.xp6(2),t.Q6J("value",o.getComputedStat(e))}}const E=[{path:"",component:(()=>{class s{titleService;races;currentRace;availablePoints;maximumAvailablePoints;characterAttributes;characterAttributes2;characterAttributes1;selectableAttributeOne;selectableAttributeTwo;dropdownAttribute1;dropdownAttribute2;STR="STR";DEX="DEX";CON="CON";INT="INT";WIS="WIS";CHR="CHR";constructor(e){this.titleService=e,this.availablePoints=27,this.maximumAvailablePoints=27,this.titleService.setTitle("D&D 5th Edition Stat Point Buy"),this.createRaceInfo(),this.createCharacterAttributes()}ngOnInit(){}updateStats(e,o){if((0,P.G$)(e)){let n=this.maximumAvailablePoints;for(const a of this.characterAttributes){let c=a.points;isNaN(c)?a.points=0:(c=+c,n-=c>this.maximumAvailablePoints||c<0?0:c)}this.availablePoints=n}}updateAvailableSpecialAttributes(e,o){let n=null,a=null,c=null,A=null;1===e?(n=this.dropdownAttribute1,a=this.dropdownAttribute2):(n=this.dropdownAttribute2,a=this.dropdownAttribute1),c=n.selectedOption,A=a.selectedOption;const F=n.options,J=a.options;if(A)for(const g of F)g.disabled=g.value.name===A.value.name;if(c)for(const g of J)g.disabled=g.value.name===c.value.name}createRaceInfo(){this.races=[new l.m("Human",[new i.v(this.STR,1),new i.v(this.DEX,1),new i.v(this.CON,1),new i.v(this.INT,1),new i.v(this.WIS,1),new i.v(this.CHR,1)]),new l.m("Human (Variant)",[]),new l.m("Half-Elf",[new i.v(this.CHR,2)]),new l.m("Dragonborn",[new i.v(this.CHR,1),new i.v(this.STR,2)]),new l.m("Dwarf (Hill)",[new i.v(this.WIS,1),new i.v(this.CON,2)]),new l.m("Dwarf (Mountain)",[new i.v(this.STR,2),new i.v(this.CON,2)]),new l.m("Dwarf (Deurgar)",[new i.v(this.STR,1),new i.v(this.CON,2)]),new l.m("Elf (High)",[new i.v(this.INT,1),new i.v(this.DEX,2)]),new l.m("Elf (Wood)",[new i.v(this.WIS,1),new i.v(this.DEX,2)]),new l.m("Elf (Drow)",[new i.v(this.CHR,1),new i.v(this.DEX,2)]),new l.m("Elf (Eladrin)",[new i.v(this.INT,1),new i.v(this.DEX,2)]),new l.m("Elf (Sea)",[new i.v(this.CON,1),new i.v(this.DEX,2)]),new l.m("Gnome (Forest)",[new i.v(this.DEX,1),new i.v(this.INT,2)]),new l.m("Gnome (Rock)",[new i.v(this.CON,1),new i.v(this.INT,2)]),new l.m("Gnome (Deep)",[new i.v(this.DEX,1),new i.v(this.INT,2)]),new l.m("Half-Orc",[new i.v(this.CON,1),new i.v(this.STR,2)]),new l.m("Halfling (Deurgar)",[new i.v(this.CHR,1),new i.v(this.DEX,2)]),new l.m("Halfling (Stout)",[new i.v(this.CON,1),new i.v(this.DEX,2)]),new l.m("Halfling (Ghostwise)",[new i.v(this.WIS,1),new i.v(this.DEX,2)]),new l.m("Tiefling",[new i.v(this.INT,1),new i.v(this.CHR,2)])]}createCharacterAttributes(){this.characterAttributes=[new w(this.STR,0,0),new w(this.DEX,0,0),new w(this.CON,0,0),new w(this.INT,0,0),new w(this.WIS,0,0),new w(this.CHR,0,0)],this.characterAttributes1=JSON.parse(JSON.stringify(this.characterAttributes)),this.characterAttributes2=JSON.parse(JSON.stringify(this.characterAttributes))}showSelectableStatDropdowns(){return this.currentRace&&("Human (Variant)"===this.currentRace.name||"Half-Elf"===this.currentRace.name)}getComputedStat(e){return 8+this.getStatModifierBasedOnPoints(e.points)+this.getRacialStat(e)}getMaximumPoints(e){let o=9;const n=o-e.points;return 0===this.availablePoints?o=e.points:n>this.availablePoints||0===n?n+this.availablePoints<o&&(o=n+this.availablePoints,n>this.availablePoints?o=e.points+this.availablePoints:o<e.points&&(o=e.points)):n<0?e.points=0:o=this.availablePoints+e.points,o}getStatModifierBasedOnPoints(e){if(!isNaN(e)){if((e=+e)<=5)return e;switch(e){case 6:return 5;case 7:case 8:return 6;case 9:return 7}}return 0}getRacialStat(e){if(this.currentRace){if(this.showSelectableStatDropdowns()&&(this.selectableAttributeOne&&this.selectableAttributeOne.name===e.name||this.selectableAttributeTwo&&this.selectableAttributeTwo.name===e.name))return 1;if(this.currentRace.modifiers)for(const o of this.currentRace.modifiers)if(o.attributeName===e.name)return o.value}return 0}resetPoints(){for(const e of this.characterAttributes)e.points=0;this.availablePoints=this.maximumAvailablePoints}static \u0275fac=function(o){return new(o||s)(t.Y36(x.Dx))};static \u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(o,n){if(1&o&&(t.Gf(M,7),t.Gf(y,7)),2&o){let a;t.iGM(a=t.CRH())&&(n.dropdownAttribute1=a.first),t.iGM(a=t.CRH())&&(n.dropdownAttribute2=a.first)}},decls:47,vars:9,consts:[[1,"grid"],[1,"col-12","align-text-center"],[1,"col-12"],[1,"sm:col-12","xl:col-8","xl:col-offset-2"],[1,"align-text-center"],[1,"ui-card-title"],["name","raceForm","id","raceForm","autocomplete","off"],[1,"grid","pad-top-5"],[1,"col-3","align-text-center"],[1,"col-3","align-text-center",2,"padding-top","0px"],["class","col-3 no-wrap align-text-center",4,"ngIf"],[1,"col-3"],["name","raceSelector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["pInputText","","readonly","",1,"col-12","align-text-center",3,"value"],["class","col-3",4,"ngIf"],[1,"col-12","py-0"],["id","statsForm","name","statsForm","autocomplete","off"],[1,"col-3","px-0"],[1,"font-weight-bold","no-wrap","align-text-center"],["pButton","","type","button","icon","pi pi-refresh","iconPos","left",1,"ui-button-rounded","ui-button-info","small-icon-button","reset-button",3,"click"],["class","pad-top-5",4,"ngFor","ngForOf"],[1,"col-3","no-wrap","align-text-center"],["name","attribute1Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute1",""],["name","attribute2Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute2",""],[1,"pad-top-5"],[1,"col-12","align-text-center",3,"name","min","max","minFractionDigits","maxFractionDigits","showButtons","ngModel","onInput","onBlur","ngModelChange"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"D&D 5th Edition Character Attribute Point Buy"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"hr"),t.qZA()(),t.TgZ(5,"div",0)(6,"div",3)(7,"p-panel",2)(8,"p-header",4)(9,"span",5),t._uU(10,"Player Stats"),t.qZA()(),t.TgZ(11,"form",6)(12,"div",7)(13,"label",8),t._uU(14,"Race "),t.qZA(),t.TgZ(15,"label",9),t._uU(16,"Available Points"),t.qZA(),t.YNc(17,N,2,0,"label",10)(18,O,2,0,"label",10),t.qZA(),t.TgZ(19,"div",7)(20,"div",11)(21,"p-dropdown",12),t.NdJ("ngModelChange",function(c){return n.currentRace=c})("onChange",function(c){return n.updateStats("raceForm",c)}),t.qZA()(),t.TgZ(22,"div",11),t._UZ(23,"input",13),t.qZA(),t.YNc(24,R,3,3,"div",14)(25,I,3,3,"div",14),t.qZA()(),t.TgZ(26,"div",0),t._UZ(27,"hr",15),t.qZA(),t.TgZ(28,"form",16)(29,"div",0)(30,"table",2)(31,"thead")(32,"th",17)(33,"span",18),t._uU(34,"Name"),t.qZA()(),t.TgZ(35,"th",17)(36,"span",18),t._uU(37," Points "),t.TgZ(38,"button",19),t.NdJ("click",function(){return n.resetPoints()}),t.qZA()()(),t.TgZ(39,"th",17)(40,"span",18),t._uU(41,"Race"),t.qZA()(),t.TgZ(42,"th",17)(43,"span",18),t._uU(44,"Result"),t.qZA()()(),t.TgZ(45,"tbody"),t.YNc(46,B,9,10,"tr",20),t.qZA()()()()()()()),2&o&&(t.xp6(17),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(3),t.Q6J("options",n.races)("ngModel",n.currentRace)("autoDisplayFirst",!1),t.xp6(2),t.Q6J("value",n.availablePoints),t.xp6(),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(),t.Q6J("ngIf",n.showSelectableStatDropdowns()),t.xp6(21),t.Q6J("ngForOf",n.characterAttributes))},dependencies:[u.sg,u.O5,d._Y,d.JJ,d.JL,d.On,d.F,Z.h4,f.Lt,p.o,m.Hq,v.Rn,D.s],styles:[".reset-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:1.8rem}"]})}return s})()}];let H=(()=>{class s{constructor(){}static \u0275fac=function(o){return new(o||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[u.ez,d.u5,_.d,f.kW,p.j,m.hJ,v.L$,S.ON,D.Q,C.Bz.forChild(E)]})}return s})()},2591:(T,b,r)=>{r.d(b,{n:()=>C});var u=r(9104),d=r(4713);let C=(()=>{class m extends d.s{static \u0275fac=(()=>{let f;return function(p){return(f||(f=u.n5z(m)))(p||m)}})();static \u0275cmp=u.Xpm({type:m,selectors:[["CheckIcon"]],standalone:!0,features:[u.qOj,u.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(v,p){1&v&&(u.O4$(),u.TgZ(0,"svg",0),u._UZ(1,"path",1),u.qZA()),2&v&&(u.Tol(p.getClassNames()),u.uIk("aria-label",p.ariaLabel)("aria-hidden",p.ariaHidden)("role",p.role))},encapsulation:2})}return m})()}}]);