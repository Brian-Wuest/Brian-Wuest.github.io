(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{SYQV:function(t,e,n){"use strict";n.r(e),n.d(e,"DndPointBuyModule",function(){return I});var a=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),s=n("jIHw"),r=n("QIUk"),b=n("arFO"),l=n("Ks7X"),c=n("7kUa"),u=n("+07z"),h=n("7CaW"),p=n("Hv5Q"),w=n("S+Ux"),d=n("oEvD");class f{constructor(t,e,n){this.name=t,this.raceModifier=e,this.points=n,n||(n=0)}}var m=n("fXoL"),g=n("jhN1"),P=n("7zfz");const S=["selectableAttribute1"],v=["selectableAttribute2"];function Q(t,e){1&t&&(m.Qb(0,"label",21),m.yc(1,"Attribute 1 "),m.Pb())}function A(t,e){1&t&&(m.Qb(0,"label",21),m.yc(1,"Attribute 2 "),m.Pb())}function D(t,e){if(1&t){const t=m.Rb();m.Qb(0,"div",11),m.Qb(1,"p-dropdown",22,23),m.Xb("ngModelChange",function(e){return m.qc(t),m.Zb().selectableAttributeOne=e})("onChange",function(e){return m.qc(t),m.Zb().updateAvailableSpecialAttributes(1,e)}),m.Pb(),m.Pb()}if(2&t){const t=m.Zb();m.zb(1),m.fc("options",t.characterAttributes1)("ngModel",t.selectableAttributeOne)("autoDisplayFirst",!1)}}function C(t,e){if(1&t){const t=m.Rb();m.Qb(0,"div",11),m.Qb(1,"p-dropdown",24,25),m.Xb("ngModelChange",function(e){return m.qc(t),m.Zb().selectableAttributeTwo=e})("onChange",function(e){return m.qc(t),m.Zb().updateAvailableSpecialAttributes(2,e)}),m.Pb(),m.Pb()}if(2&t){const t=m.Zb();m.zb(1),m.fc("options",t.characterAttributes2)("ngModel",t.selectableAttributeTwo)("autoDisplayFirst",!1)}}function R(t,e){if(1&t){const t=m.Rb();m.Qb(0,"tr",26),m.Qb(1,"td",11),m.Lb(2,"input",13),m.Pb(),m.Qb(3,"td",11),m.Qb(4,"p-inputNumber",27),m.Xb("onInput",function(e){return m.qc(t),m.Zb().updateStats("statsForm",e)})("onBlur",function(e){return m.qc(t),m.Zb().updateStats("statsForm",e)})("ngModelChange",function(t){return e.$implicit.points=t}),m.Pb(),m.Pb(),m.Qb(5,"td",11),m.Lb(6,"input",13),m.Pb(),m.Qb(7,"td",11),m.Lb(8,"input",13),m.Pb(),m.Pb()}if(2&t){const t=e.$implicit,n=m.Zb();m.zb(2),m.fc("value",t.name),m.zb(2),m.fc("name",t.name)("min",0)("max",n.getMaximumPoints(t))("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("ngModel",t.points),m.zb(2),m.fc("value",n.getRacialStat(t)),m.zb(2),m.fc("value",n.getComputedStat(t))}}const N=[{path:"",component:(()=>{class t{constructor(t){this.titleService=t,this.STR="STR",this.DEX="DEX",this.CON="CON",this.INT="INT",this.WIS="WIS",this.CHR="CHR",this.globals=new p.a,this.availablePoints=27,this.maximumAvailablePoints=27,this.titleService.setTitle("D&D 5th Edition Stat Point Buy"),this.createRaceInfo(),this.createCharacterAttributes()}ngOnInit(){}updateStats(t,e){if(this.globals.validateForm(t)){let t=this.maximumAvailablePoints;for(const e of this.characterAttributes){let n=e.points;isNaN(n)?e.points=0:(n=+n,t-=n>this.maximumAvailablePoints||n<0?0:n)}this.availablePoints=t}}updateAvailableSpecialAttributes(t,e){let n=null,a=null,i=null,o=null;1===t?(n=this.dropdownAttribute1,a=this.dropdownAttribute2):(n=this.dropdownAttribute2,a=this.dropdownAttribute1),i=n.selectedOption,o=a.selectedOption;const s=n.options,r=a.options;if(o)for(const b of s)b.disabled=b.value.name===o.value.name;if(i)for(const b of r)b.disabled=b.value.name===i.value.name}createRaceInfo(){this.races=[new d.a("Human",[new w.a(this.STR,1),new w.a(this.DEX,1),new w.a(this.CON,1),new w.a(this.INT,1),new w.a(this.WIS,1),new w.a(this.CHR,1)]),new d.a("Human (Variant)",[]),new d.a("Half-Elf",[new w.a(this.CHR,2)]),new d.a("Dragonborn",[new w.a(this.CHR,1),new w.a(this.STR,2)]),new d.a("Dwarf (Hill)",[new w.a(this.WIS,1),new w.a(this.CON,2)]),new d.a("Dwarf (Mountain)",[new w.a(this.STR,2),new w.a(this.CON,2)]),new d.a("Dwarf (Deurgar)",[new w.a(this.STR,1),new w.a(this.CON,2)]),new d.a("Elf (High)",[new w.a(this.INT,1),new w.a(this.DEX,2)]),new d.a("Elf (Wood)",[new w.a(this.WIS,1),new w.a(this.DEX,2)]),new d.a("Elf (Drow)",[new w.a(this.CHR,1),new w.a(this.DEX,2)]),new d.a("Elf (Eladrin)",[new w.a(this.INT,1),new w.a(this.DEX,2)]),new d.a("Elf (Sea)",[new w.a(this.CON,1),new w.a(this.DEX,2)]),new d.a("Gnome (Forest)",[new w.a(this.DEX,1),new w.a(this.INT,2)]),new d.a("Gnome (Rock)",[new w.a(this.CON,1),new w.a(this.INT,2)]),new d.a("Gnome (Deep)",[new w.a(this.DEX,1),new w.a(this.INT,2)]),new d.a("Half-Orc",[new w.a(this.CON,1),new w.a(this.STR,2)]),new d.a("Halfling (Deurgar)",[new w.a(this.CHR,1),new w.a(this.DEX,2)]),new d.a("Halfling (Stout)",[new w.a(this.CON,1),new w.a(this.DEX,2)]),new d.a("Halfling (Ghostwise)",[new w.a(this.WIS,1),new w.a(this.DEX,2)]),new d.a("Tiefling",[new w.a(this.INT,1),new w.a(this.CHR,2)])]}createCharacterAttributes(){this.characterAttributes=[new f(this.STR,0,0),new f(this.DEX,0,0),new f(this.CON,0,0),new f(this.INT,0,0),new f(this.WIS,0,0),new f(this.CHR,0,0)],this.characterAttributes1=JSON.parse(JSON.stringify(this.characterAttributes)),this.characterAttributes2=JSON.parse(JSON.stringify(this.characterAttributes))}showSelectableStatDropdowns(){return this.currentRace&&("Human (Variant)"===this.currentRace.name||"Half-Elf"===this.currentRace.name)}getComputedStat(t){return 8+this.getStatModifierBasedOnPoints(t.points)+this.getRacialStat(t)}getMaximumPoints(t){let e=9;const n=e-t.points;return 0===this.availablePoints?e=t.points:n>this.availablePoints||0===n?n+this.availablePoints<e&&(e=n+this.availablePoints,n>this.availablePoints?e=t.points+this.availablePoints:e<t.points&&(e=t.points)):n<0?(t.points=0,e=e):e=this.availablePoints+t.points,e}getStatModifierBasedOnPoints(t){if(!isNaN(t)){if((t=+t)<=5)return t;switch(t){case 6:return 5;case 7:case 8:return 6;case 9:return 7}}return 0}getRacialStat(t){if(this.currentRace){if(this.showSelectableStatDropdowns()&&(this.selectableAttributeOne&&this.selectableAttributeOne.name===t.name||this.selectableAttributeTwo&&this.selectableAttributeTwo.name===t.name))return 1;if(this.currentRace.modifiers)for(const e of this.currentRace.modifiers)if(e.attributeName===t.name)return e.value}return 0}resetPoints(){for(const t of this.characterAttributes)t.points=0;this.availablePoints=this.maximumAvailablePoints}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(g.b))},t.\u0275cmp=m.Eb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(m.Bc(S,3),m.Bc(v,3)),2&t){let t;m.oc(t=m.Yb())&&(e.dropdownAttribute1=t.first),m.oc(t=m.Yb())&&(e.dropdownAttribute2=t.first)}},decls:47,vars:9,consts:[[1,"p-grid"],[1,"p-col-12","align-text-center"],[1,"p-col-12"],[1,"p-sm-12","p-xl-8","p-xl-offset-2"],[1,"align-text-center"],[1,"ui-card-title"],["name","raceForm","id","raceForm","autocomplete","off"],[1,"p-grid","pad-top-5"],[1,"p-col-3","align-text-center"],[1,"p-col-3","align-text-center",2,"padding-top","0px"],["class","p-col-3 no-wrap align-text-center",4,"ngIf"],[1,"p-col-3"],["name","raceSelector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["pInputText","","readonly","",1,"p-col-12","align-text-center",3,"value"],["class","p-col-3",4,"ngIf"],[1,"p-col-12","no-pad-top-bottom"],["id","statsForm","name","statsForm","autocomplete","off"],[1,"p-col-3","no-pad-right-left"],[1,"font-weight-bold","no-wrap","align-text-center"],["pButton","","type","button","icon","pi pi-refresh","iconPos","left",1,"ui-button-rounded","ui-button-info","small-icon-button","reset-button",3,"click"],["class","pad-top-5",4,"ngFor","ngForOf"],[1,"p-col-3","no-wrap","align-text-center"],["name","attribute1Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute1",""],["name","attribute2Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute2",""],[1,"pad-top-5"],[1,"p-col-12","align-text-center",3,"name","min","max","minFractionDigits","maxFractionDigits","showButtons","ngModel","onInput","onBlur","ngModelChange"]],template:function(t,e){1&t&&(m.Qb(0,"div",0),m.Qb(1,"h1",1),m.yc(2,"D&D 5th Edition Character Attribute Point Buy"),m.Pb(),m.Qb(3,"div",2),m.Lb(4,"hr"),m.Pb(),m.Pb(),m.Qb(5,"div",0),m.Qb(6,"div",3),m.Qb(7,"p-panel",2),m.Qb(8,"p-header",4),m.Qb(9,"span",5),m.yc(10,"Player Stats"),m.Pb(),m.Pb(),m.Qb(11,"form",6),m.Qb(12,"div",7),m.Qb(13,"label",8),m.yc(14,"Race "),m.Pb(),m.Qb(15,"label",9),m.yc(16,"Available Points"),m.Pb(),m.wc(17,Q,2,0,"label",10),m.wc(18,A,2,0,"label",10),m.Pb(),m.Qb(19,"div",7),m.Qb(20,"div",11),m.Qb(21,"p-dropdown",12),m.Xb("ngModelChange",function(t){return e.currentRace=t})("onChange",function(t){return e.updateStats("raceForm",t)}),m.Pb(),m.Pb(),m.Qb(22,"div",11),m.Lb(23,"input",13),m.Pb(),m.wc(24,D,3,3,"div",14),m.wc(25,C,3,3,"div",14),m.Pb(),m.Pb(),m.Qb(26,"div",0),m.Lb(27,"hr",15),m.Pb(),m.Qb(28,"form",16),m.Qb(29,"div",0),m.Qb(30,"table",2),m.Qb(31,"thead"),m.Qb(32,"th",17),m.Qb(33,"span",18),m.yc(34,"Name"),m.Pb(),m.Pb(),m.Qb(35,"th",17),m.Qb(36,"span",18),m.yc(37," Points "),m.Qb(38,"button",19),m.Xb("click",function(){return e.resetPoints()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(39,"th",17),m.Qb(40,"span",18),m.yc(41,"Race"),m.Pb(),m.Pb(),m.Qb(42,"th",17),m.Qb(43,"span",18),m.yc(44,"Result"),m.Pb(),m.Pb(),m.Pb(),m.Qb(45,"tbody"),m.wc(46,R,9,10,"tr",20),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&t&&(m.zb(17),m.fc("ngIf",e.showSelectableStatDropdowns()),m.zb(1),m.fc("ngIf",e.showSelectableStatDropdowns()),m.zb(3),m.fc("options",e.races)("ngModel",e.currentRace)("autoDisplayFirst",!1),m.zb(2),m.fc("value",e.availablePoints),m.zb(1),m.fc("ngIf",e.showSelectableStatDropdowns()),m.zb(1),m.fc("ngIf",e.showSelectableStatDropdowns()),m.zb(21),m.fc("ngForOf",e.characterAttributes))},directives:[h.a,P.e,i.h,i.e,i.f,a.k,b.a,i.d,i.g,c.a,s.b,a.j,l.a],styles:[".reset-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:1.8rem}"]}),t})()}];let I=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({imports:[[a.b,i.b,r.b,b.b,c.b,s.c,l.b,u.b,h.b,o.d.forChild(N)]]}),t})()}}]);