"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[118],{7745:(X,h,s)=>{s.d(h,{Z:()=>w,d:()=>b});var t=s(639),d=s(8583),m=s(3013);function v(o,u){1&o&&t.GkF(0)}function Z(o,u){if(1&o&&(t.TgZ(0,"div",8),t.Hsn(1,1),t.YNc(2,v,1,0,"ng-container",6),t.qZA()),2&o){const l=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",l.headerTemplate)}}function _(o,u){1&o&&t.GkF(0)}function n(o,u){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.YNc(2,_,1,0,"ng-container",6),t.qZA()),2&o){const l=t.oxw();t.xp6(1),t.hij(" ",l.header," "),t.xp6(1),t.Q6J("ngTemplateOutlet",l.titleTemplate)}}function M(o,u){1&o&&t.GkF(0)}function e(o,u){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.YNc(2,M,1,0,"ng-container",6),t.qZA()),2&o){const l=t.oxw();t.xp6(1),t.hij(" ",l.subheader," "),t.xp6(1),t.Q6J("ngTemplateOutlet",l.subtitleTemplate)}}function x(o,u){1&o&&t.GkF(0)}function T(o,u){1&o&&t.GkF(0)}function A(o,u){if(1&o&&(t.TgZ(0,"div",11),t.Hsn(1,2),t.YNc(2,T,1,0,"ng-container",6),t.qZA()),2&o){const l=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",l.footerTemplate)}}const f=["*",[["p-header"]],[["p-footer"]]],y=["*","p-header","p-footer"];let w=(()=>{class o{constructor(l){this.el=l}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"header":this.headerTemplate=l.template;break;case"title":this.titleTemplate=l.template;break;case"subtitle":this.subtitleTemplate=l.template;break;case"content":this.contentTemplate=l.template;break;case"footer":this.footerTemplate=l.template;break;default:this.contentTemplate=l.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["p-card"]],contentQueries:function(l,a,p){if(1&l&&(t.Suo(p,m.h4,5),t.Suo(p,m.$_,5),t.Suo(p,m.jx,4)),2&l){let r;t.iGM(r=t.CRH())&&(a.headerFacet=r.first),t.iGM(r=t.CRH())&&(a.footerFacet=r.first),t.iGM(r=t.CRH())&&(a.templates=r)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:y,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(l,a){1&l&&(t.F$t(f),t.TgZ(0,"div",0),t.YNc(1,Z,3,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,n,3,2,"div",3),t.YNc(4,e,3,2,"div",4),t.TgZ(5,"div",5),t.Hsn(6),t.YNc(7,x,1,0,"ng-container",6),t.qZA(),t.YNc(8,A,3,1,"div",7),t.qZA(),t.qZA()),2&l&&(t.Tol(a.styleClass),t.Q6J("ngClass","p-card p-component")("ngStyle",a.style),t.xp6(1),t.Q6J("ngIf",a.headerFacet||a.headerTemplate),t.xp6(2),t.Q6J("ngIf",a.header||a.titleTemplate),t.xp6(1),t.Q6J("ngIf",a.subheader||a.subtitleTemplate),t.xp6(3),t.Q6J("ngTemplateOutlet",a.contentTemplate),t.xp6(1),t.Q6J("ngIf",a.footerFacet||a.footerTemplate))},directives:[d.mk,d.PC,d.O5,d.tP],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),o})(),b=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez],m.m8]}),o})()},9118:(X,h,s)=>{s.r(h),s.d(h,{XpCalculatorModule:()=>l});var t=s(8583),d=s(665),m=s(4207),v=s(7745),Z=s(103),_=s(3928);class n{constructor(p,r){this.challengeRating=p,this.experience=r}static getMonsterXpForChallengeRating(p){if(p&&""!==p.trim())for(const r of n.dnd5thMonsterExperience)if(r.challengeRating===p)return r.Clone();return n.Zero()}static Zero(){return new n("0",10)}Clone(){return new n(this.challengeRating,this.experience)}}n.dnd5thMonsterExperience=[new n("0",10),new n("1/8",25),new n("1/4",50),new n("1/2",100),new n("1",200),new n("2",450),new n("3",700),new n("4",1100),new n("5",1800),new n("6",2300),new n("7",2900),new n("8",3900),new n("9",5e3),new n("10",5900),new n("11",7200),new n("12",8400),new n("13",1e4),new n("14",11500),new n("15",13e3),new n("16",15e3),new n("17",18e3),new n("18",2e4),new n("19",22e3),new n("20",25e3),new n("21",33e3),new n("22",41e3),new n("23",5e4),new n("24",62e3),new n("25",75e3),new n("26",9e4),new n("27",105e3),new n("28",12e4),new n("29",135e3),new n("30",155e3)];var M=s(7150),e=s(639),x=s(9075),T=s(4020),A=s(3013),f=s(705);function y(a,p){if(1&a){const r=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",16),e.TgZ(2,"p-button",17),e.NdJ("onClick",function(){const g=e.CHM(r).$implicit;return e.oxw().removeMonster(g)}),e.qZA(),e.qZA(),e.TgZ(3,"td",16),e.TgZ(4,"p-dropdown",18),e.NdJ("onChange",function(c){const C=e.CHM(r).$implicit;return e.oxw().updatePlayersXP("monstersForm",c,C)}),e.qZA(),e.qZA(),e.TgZ(5,"td",16),e.TgZ(6,"p-inputNumber",19),e.NdJ("ngModelChange",function(c){return p.$implicit.MonsterCount=c})("onInput",function(){return e.CHM(r),e.oxw().updatePlayersXP("playersForm")})("onBlur",function(){return e.CHM(r),e.oxw().updatePlayersXP("playersForm")}),e.qZA(),e.qZA(),e.qZA()}if(2&a){const r=p.$implicit,i=e.oxw();e.xp6(4),e.Q6J("options",i.monsterXpList)("name",r.MonsterId)("ngModel",r.XpInfo),e.xp6(2),e.Q6J("name",r.MonsterId+"monsterCount")("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("min",0)("max",100)("ngModel",r.MonsterCount)}}let w=(()=>{class a{constructor(r){this._titleService=r,this.globals=new M.O,this.templateMonster=n.dnd5thMonsterExperience[0],this.playerCount=4,this.currentMonsters=[],this.playerXp=0,this.totalXp=0,this._titleService.setTitle("Experience Calculator"),this.monsterXpList=n.dnd5thMonsterExperience}ngOnInit(){this.addMonster()}removeMonster(r){let i=-1;for(let c=0;c<this.currentMonsters.length;c++)if(this.currentMonsters[c].MonsterId===r.MonsterId){i=c;break}i>=0&&this.currentMonsters.splice(i,1),this.updatePlayersXP("monstersForm")}addMonster(){this.currentMonsters.push({MonsterId:this.globals.generateGuid(),XpInfo:this.templateMonster,MonsterCount:0})}updatePlayersXP(r,i,c){if(i&&i.value&&c&&(c.XpInfo=i.value),!r||this.globals.validateForm(r)){if(!this.playerCount||0===this.playerCount)return void(this.playerXp=0);this.totalXp=0;for(let g=0;g<this.currentMonsters.length;g++){const C=this.currentMonsters[g];this.totalXp=this.totalXp+C.MonsterCount*C.XpInfo.experience}this.playerXp=this.totalXp/this.playerCount}}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(x.Dx))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:53,vars:15,consts:[[1,"grid"],[1,"col-12","align-text-center"],[1,"col-12"],[1,"col-6"],[1,"ui-card-title"],["name","monstersForm","id","monstersForm",1,"border","border-dark","rounded","bg-secondary"],[2,"width","100%"],[2,"width","25%"],[1,"align-text-center",2,"width","33%"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],["type","button","label","Add Monster",3,"onClick"],["name","playersForm","id","playersForm",1,"p-grid"],[1,"col-12","no-wrap","c-label"],["name","playerCount","mode","decimal",3,"minFractionDigits","maxFractionDigits","showButtons","min","max","ngModel","onInput","onBlur","ngModelChange"],["readonly","","pInputText","",1,"col-12",3,"value"],[1,"right-left-padding-10"],["label","Remove",3,"onClick"],["optionLabel","challengeRating",3,"options","name","ngModel","onChange"],["mode","decimal",3,"name","minFractionDigits","maxFractionDigits","showButtons","min","max","ngModel","ngModelChange","onInput","onBlur"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Experience Calculator"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"hr"),e.qZA(),e.qZA(),e.TgZ(5,"div",0),e.TgZ(6,"div",3),e.TgZ(7,"p-panel"),e.TgZ(8,"p-header"),e.TgZ(9,"span",4),e._uU(10,"Number of Monsters and Challenge Rating"),e.qZA(),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"form",5),e.TgZ(13,"table",6),e.TgZ(14,"thead"),e.TgZ(15,"tr"),e._UZ(16,"th",7),e.TgZ(17,"th",8),e._uU(18,"Challenge Rating"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"Count"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,y,7,10,"tr",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div"),e.TgZ(24,"div",10),e.TgZ(25,"p-button",11),e.NdJ("onClick",function(){return i.addMonster()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",3),e.TgZ(27,"p-panel"),e.TgZ(28,"p-header"),e.TgZ(29,"span",4),e._uU(30,"Player Count and Calculated Experience"),e.qZA(),e.qZA(),e.TgZ(31,"form",12),e.TgZ(32,"div",2),e.TgZ(33,"div",0),e.TgZ(34,"div",3),e.TgZ(35,"label",13),e._uU(36,"Player Count: "),e.qZA(),e.qZA(),e.TgZ(37,"div",3),e.TgZ(38,"p-inputNumber",14),e.NdJ("onInput",function(){return i.updatePlayersXP("playersForm")})("onBlur",function(){return i.updatePlayersXP("playersForm")})("ngModelChange",function(g){return i.playerCount=g}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",0),e.TgZ(40,"div",3),e.TgZ(41,"label",13),e._uU(42,"Per-Player Experience: "),e.qZA(),e.qZA(),e.TgZ(43,"div",3),e._UZ(44,"input",15),e.ALo(45,"number"),e.qZA(),e.qZA(),e.TgZ(46,"div",0),e.TgZ(47,"div",3),e.TgZ(48,"label",13),e._uU(49,"Total Experience: "),e.qZA(),e.qZA(),e.TgZ(50,"div",3),e._UZ(51,"input",15),e.ALo(52,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(22),e.Q6J("ngForOf",i.currentMonsters),e.xp6(16),e.Q6J("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("min",0)("max",100)("ngModel",i.playerCount),e.xp6(6),e.Q6J("value",e.xi3(45,9,i.playerXp,"1.0-0")),e.xp6(7),e.Q6J("value",e.xi3(52,12,i.totalXp,"1.0-0")))},directives:[T.s,A.h4,d._Y,d.JL,d.F,t.sg,m.zx,f.Rn,d.JJ,d.On,_.o,Z.Lt],pipes:[t.JJ],styles:["p-spinner[name=playerCount][_ngcontent-%COMP%]{margin-top:4px}.c-label[_ngcontent-%COMP%]{margin-top:4px}[pInputText].ui-inputtext[_ngcontent-%COMP%]{margin-top:4px}"]}),a})();var o=s(3114);const u=[{path:"",component:w}];let l=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[t.ez,d.u5,v.d,m.hJ,Z.kW,_.j,T.Q,o.Bz.forChild(u),f.L$]]}),a})()}}]);