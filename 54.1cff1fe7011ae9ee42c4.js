(self.webpackChunkapp=self.webpackChunkapp||[]).push([[54],{6054:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DndPointBuyModule:()=>N});var i=n(1116),a=n(1462),o=n(6738),s=n(6726),r=n(8751),l=n(4568),c=n(4094),u=n(9892),h=n(1968),p=n(8203),g=n(5505),d=n(593),w=n(710);class m{constructor(t,e,n){this.name=t,this.raceModifier=e,this.points=n,n||(n=0)}}var b=n(8619),f=n(9624),v=n(2290);const Z=["selectableAttribute1"],A=["selectableAttribute2"];function T(t,e){1&t&&(b.TgZ(0,"label",21),b._uU(1,"Attribute 1 "),b.qZA())}function S(t,e){1&t&&(b.TgZ(0,"label",21),b._uU(1,"Attribute 2 "),b.qZA())}function C(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",11),b.TgZ(1,"p-dropdown",22,23),b.NdJ("ngModelChange",function(e){return b.CHM(t),b.oxw().selectableAttributeOne=e})("onChange",function(e){return b.CHM(t),b.oxw().updateAvailableSpecialAttributes(1,e)}),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(1),b.Q6J("options",t.characterAttributes1)("ngModel",t.selectableAttributeOne)("autoDisplayFirst",!1)}}function x(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"div",11),b.TgZ(1,"p-dropdown",24,25),b.NdJ("ngModelChange",function(e){return b.CHM(t),b.oxw().selectableAttributeTwo=e})("onChange",function(e){return b.CHM(t),b.oxw().updateAvailableSpecialAttributes(2,e)}),b.qZA(),b.qZA()}if(2&t){const t=b.oxw();b.xp6(1),b.Q6J("options",t.characterAttributes2)("ngModel",t.selectableAttributeTwo)("autoDisplayFirst",!1)}}function q(t,e){if(1&t){const t=b.EpF();b.TgZ(0,"tr",26),b.TgZ(1,"td",11),b._UZ(2,"input",13),b.qZA(),b.TgZ(3,"td",11),b.TgZ(4,"p-inputNumber",27),b.NdJ("onInput",function(e){return b.CHM(t),b.oxw().updateStats("statsForm",e)})("onBlur",function(e){return b.CHM(t),b.oxw().updateStats("statsForm",e)})("ngModelChange",function(t){return e.$implicit.points=t}),b.qZA(),b.qZA(),b.TgZ(5,"td",11),b._UZ(6,"input",13),b.qZA(),b.TgZ(7,"td",11),b._UZ(8,"input",13),b.qZA(),b.qZA()}if(2&t){const t=e.$implicit,n=b.oxw();b.xp6(2),b.Q6J("value",t.name),b.xp6(2),b.Q6J("name",t.name)("min",0)("max",n.getMaximumPoints(t))("minFractionDigits",0)("maxFractionDigits",0)("showButtons",!0)("ngModel",t.points),b.xp6(2),b.Q6J("value",n.getRacialStat(t)),b.xp6(2),b.Q6J("value",n.getComputedStat(t))}}const D=[{path:"",component:(()=>{class t{constructor(t){this.titleService=t,this.STR="STR",this.DEX="DEX",this.CON="CON",this.INT="INT",this.WIS="WIS",this.CHR="CHR",this.globals=new g.O,this.availablePoints=27,this.maximumAvailablePoints=27,this.titleService.setTitle("D&D 5th Edition Stat Point Buy"),this.createRaceInfo(),this.createCharacterAttributes()}ngOnInit(){}updateStats(t,e){if(this.globals.validateForm(t)){let t=this.maximumAvailablePoints;for(const e of this.characterAttributes){let n=e.points;isNaN(n)?e.points=0:(n=+n,t-=n>this.maximumAvailablePoints||n<0?0:n)}this.availablePoints=t}}updateAvailableSpecialAttributes(t,e){let n=null,i=null,a=null,o=null;1===t?(n=this.dropdownAttribute1,i=this.dropdownAttribute2):(n=this.dropdownAttribute2,i=this.dropdownAttribute1),a=n.selectedOption,o=i.selectedOption;const s=n.options,r=i.options;if(o)for(const l of s)l.disabled=l.value.name===o.value.name;if(a)for(const l of r)l.disabled=l.value.name===a.value.name}createRaceInfo(){this.races=[new w.m("Human",[new d.v(this.STR,1),new d.v(this.DEX,1),new d.v(this.CON,1),new d.v(this.INT,1),new d.v(this.WIS,1),new d.v(this.CHR,1)]),new w.m("Human (Variant)",[]),new w.m("Half-Elf",[new d.v(this.CHR,2)]),new w.m("Dragonborn",[new d.v(this.CHR,1),new d.v(this.STR,2)]),new w.m("Dwarf (Hill)",[new d.v(this.WIS,1),new d.v(this.CON,2)]),new w.m("Dwarf (Mountain)",[new d.v(this.STR,2),new d.v(this.CON,2)]),new w.m("Dwarf (Deurgar)",[new d.v(this.STR,1),new d.v(this.CON,2)]),new w.m("Elf (High)",[new d.v(this.INT,1),new d.v(this.DEX,2)]),new w.m("Elf (Wood)",[new d.v(this.WIS,1),new d.v(this.DEX,2)]),new w.m("Elf (Drow)",[new d.v(this.CHR,1),new d.v(this.DEX,2)]),new w.m("Elf (Eladrin)",[new d.v(this.INT,1),new d.v(this.DEX,2)]),new w.m("Elf (Sea)",[new d.v(this.CON,1),new d.v(this.DEX,2)]),new w.m("Gnome (Forest)",[new d.v(this.DEX,1),new d.v(this.INT,2)]),new w.m("Gnome (Rock)",[new d.v(this.CON,1),new d.v(this.INT,2)]),new w.m("Gnome (Deep)",[new d.v(this.DEX,1),new d.v(this.INT,2)]),new w.m("Half-Orc",[new d.v(this.CON,1),new d.v(this.STR,2)]),new w.m("Halfling (Deurgar)",[new d.v(this.CHR,1),new d.v(this.DEX,2)]),new w.m("Halfling (Stout)",[new d.v(this.CON,1),new d.v(this.DEX,2)]),new w.m("Halfling (Ghostwise)",[new d.v(this.WIS,1),new d.v(this.DEX,2)]),new w.m("Tiefling",[new d.v(this.INT,1),new d.v(this.CHR,2)])]}createCharacterAttributes(){this.characterAttributes=[new m(this.STR,0,0),new m(this.DEX,0,0),new m(this.CON,0,0),new m(this.INT,0,0),new m(this.WIS,0,0),new m(this.CHR,0,0)],this.characterAttributes1=JSON.parse(JSON.stringify(this.characterAttributes)),this.characterAttributes2=JSON.parse(JSON.stringify(this.characterAttributes))}showSelectableStatDropdowns(){return this.currentRace&&("Human (Variant)"===this.currentRace.name||"Half-Elf"===this.currentRace.name)}getComputedStat(t){return 8+this.getStatModifierBasedOnPoints(t.points)+this.getRacialStat(t)}getMaximumPoints(t){let e=9;const n=e-t.points;return 0===this.availablePoints?e=t.points:n>this.availablePoints||0===n?n+this.availablePoints<e&&(e=n+this.availablePoints,n>this.availablePoints?e=t.points+this.availablePoints:e<t.points&&(e=t.points)):n<0?(t.points=0,e=e):e=this.availablePoints+t.points,e}getStatModifierBasedOnPoints(t){if(!isNaN(t)){if((t=+t)<=5)return t;switch(t){case 6:return 5;case 7:case 8:return 6;case 9:return 7}}return 0}getRacialStat(t){if(this.currentRace){if(this.showSelectableStatDropdowns()&&(this.selectableAttributeOne&&this.selectableAttributeOne.name===t.name||this.selectableAttributeTwo&&this.selectableAttributeTwo.name===t.name))return 1;if(this.currentRace.modifiers)for(const e of this.currentRace.modifiers)if(e.attributeName===t.name)return e.value}return 0}resetPoints(){for(const t of this.characterAttributes)t.points=0;this.availablePoints=this.maximumAvailablePoints}}return t.\u0275fac=function(e){return new(e||t)(b.Y36(f.Dx))},t.\u0275cmp=b.Xpm({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(b.Gf(Z,7),b.Gf(A,7)),2&t){let t;b.iGM(t=b.CRH())&&(e.dropdownAttribute1=t.first),b.iGM(t=b.CRH())&&(e.dropdownAttribute2=t.first)}},decls:47,vars:9,consts:[[1,"p-grid"],[1,"p-col-12","align-text-center"],[1,"p-col-12"],[1,"p-sm-12","p-xl-8","p-xl-offset-2"],[1,"align-text-center"],[1,"ui-card-title"],["name","raceForm","id","raceForm","autocomplete","off"],[1,"p-grid","pad-top-5"],[1,"p-col-3","align-text-center"],[1,"p-col-3","align-text-center",2,"padding-top","0px"],["class","p-col-3 no-wrap align-text-center",4,"ngIf"],[1,"p-col-3"],["name","raceSelector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["pInputText","","readonly","",1,"p-col-12","align-text-center",3,"value"],["class","p-col-3",4,"ngIf"],[1,"p-col-12","no-pad-top-bottom"],["id","statsForm","name","statsForm","autocomplete","off"],[1,"p-col-3","no-pad-right-left"],[1,"font-weight-bold","no-wrap","align-text-center"],["pButton","","type","button","icon","pi pi-refresh","iconPos","left",1,"ui-button-rounded","ui-button-info","small-icon-button","reset-button",3,"click"],["class","pad-top-5",4,"ngFor","ngForOf"],[1,"p-col-3","no-wrap","align-text-center"],["name","attribute1Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute1",""],["name","attribute2Selector","optionLabel","name",3,"options","ngModel","autoDisplayFirst","ngModelChange","onChange"],["selectableAttribute2",""],[1,"pad-top-5"],[1,"p-col-12","align-text-center",3,"name","min","max","minFractionDigits","maxFractionDigits","showButtons","ngModel","onInput","onBlur","ngModelChange"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"h1",1),b._uU(2,"D&D 5th Edition Character Attribute Point Buy"),b.qZA(),b.TgZ(3,"div",2),b._UZ(4,"hr"),b.qZA(),b.qZA(),b.TgZ(5,"div",0),b.TgZ(6,"div",3),b.TgZ(7,"p-panel",2),b.TgZ(8,"p-header",4),b.TgZ(9,"span",5),b._uU(10,"Player Stats"),b.qZA(),b.qZA(),b.TgZ(11,"form",6),b.TgZ(12,"div",7),b.TgZ(13,"label",8),b._uU(14,"Race "),b.qZA(),b.TgZ(15,"label",9),b._uU(16,"Available Points"),b.qZA(),b.YNc(17,T,2,0,"label",10),b.YNc(18,S,2,0,"label",10),b.qZA(),b.TgZ(19,"div",7),b.TgZ(20,"div",11),b.TgZ(21,"p-dropdown",12),b.NdJ("ngModelChange",function(t){return e.currentRace=t})("onChange",function(t){return e.updateStats("raceForm",t)}),b.qZA(),b.qZA(),b.TgZ(22,"div",11),b._UZ(23,"input",13),b.qZA(),b.YNc(24,C,3,3,"div",14),b.YNc(25,x,3,3,"div",14),b.qZA(),b.qZA(),b.TgZ(26,"div",0),b._UZ(27,"hr",15),b.qZA(),b.TgZ(28,"form",16),b.TgZ(29,"div",0),b.TgZ(30,"table",2),b.TgZ(31,"thead"),b.TgZ(32,"th",17),b.TgZ(33,"span",18),b._uU(34,"Name"),b.qZA(),b.qZA(),b.TgZ(35,"th",17),b.TgZ(36,"span",18),b._uU(37," Points "),b.TgZ(38,"button",19),b.NdJ("click",function(){return e.resetPoints()}),b.qZA(),b.qZA(),b.qZA(),b.TgZ(39,"th",17),b.TgZ(40,"span",18),b._uU(41,"Race"),b.qZA(),b.qZA(),b.TgZ(42,"th",17),b.TgZ(43,"span",18),b._uU(44,"Result"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(45,"tbody"),b.YNc(46,q,9,10,"tr",20),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t&&(b.xp6(17),b.Q6J("ngIf",e.showSelectableStatDropdowns()),b.xp6(1),b.Q6J("ngIf",e.showSelectableStatDropdowns()),b.xp6(3),b.Q6J("options",e.races)("ngModel",e.currentRace)("autoDisplayFirst",!1),b.xp6(2),b.Q6J("value",e.availablePoints),b.xp6(1),b.Q6J("ngIf",e.showSelectableStatDropdowns()),b.xp6(1),b.Q6J("ngIf",e.showSelectableStatDropdowns()),b.xp6(21),b.Q6J("ngForOf",e.characterAttributes))},directives:[p.s,v.h4,a._Y,a.JL,a.F,i.O5,l.Lt,a.JJ,a.On,u.o,s.Hq,i.sg,c.Rn],styles:[".reset-button[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;width:1.8rem}"]}),t})()}];let N=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.oAB({type:t}),t.\u0275inj=b.cJS({imports:[[i.ez,a.u5,r.d,l.kW,u.j,s.hJ,c.L$,h.ON,p.Q,o.Bz.forChild(D)]]}),t})()}}]);